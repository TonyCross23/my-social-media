if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("ProfileCometActionFollowHandler_handler$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"ProfileCometActionFollowHandler_handler$normalization",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_owner",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_location",storageKey:null},a],storageKey:null}]}}();e.exports=a}),null);
__d("ProfileCometActionFollowHandler_handler.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProfileCometActionFollowHandler_handler",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profile_owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_location",storageKey:null}],storageKey:null}],type:"ProfileActionFollowHandler",abstractKey:null};e.exports=a}),null);
__d("ProfileCometActionFollowHandler.react",["CometRelay","CometTrackingCodeContext","ProfileCometActionFollowHandler_handler.graphql","ProfilePlusFollowChainingContext.react","react","recoverableViolation","requireDeferred","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h;d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useState,l=c("requireDeferred")("CometUserFollowMutation").__setRef("ProfileCometActionFollowHandler.react"),m=c("requireDeferred")("CometUserUnfollowMutation").__setRef("ProfileCometActionFollowHandler.react");function a(a){var e,f,g=k(!1),n=g[0],o=g[1],p=d("CometRelay").useRelayEnvironment();g=j(c("CometTrackingCodeContext"));var q=g.encrypted_tracking;g=d("CometRelay").useFragment(h!==void 0?h:h=b("ProfileCometActionFollowHandler_handler.graphql"),a.handler);var r=((e=g.profile_action)==null?void 0:(e=e.profile_owner)==null?void 0:e.id)||"";e=a.children;var s=(f=g.profile_action)==null?void 0:(f=f.profile_owner)==null?void 0:f.subscribe_status,t=((f=g.profile_action)==null?void 0:f.render_location)||"WWW_COMET_FRIEND_MENU";g=j(d("ProfilePlusFollowChainingContext.react").ProfilePlusFollowChainingContext);var u=g.setShouldShowFollowChaining,v=(a==null?void 0:a.source)==="WWW_COMET_ADS",w=c("useMinifiedProductAttribution")();f=i(function(){o(!0);var a={actionRenderLocation:t,isTrackingEncrypted:v,navigationChain:w,onError:function(){o(!1)},onSuccess:function(){o(!1)},subscribeLocation:"PROFILE",tracking:v?q:null,userID:r};s==="CAN_SUBSCRIBE"?(l.onReady(function(b){b=b.enqueue;return b(p,babelHelpers["extends"]({},a))}),u(!0)):s==="IS_SUBSCRIBED"&&m.onReady(function(b){b=b.enqueue;return b(p,a)})},[q,p,r,w,t,u,v,s]);if(s==="CANNOT_SUBSCRIBE"){c("recoverableViolation")("Rendering follow action for user that cannot be followed","profile_comet");return e({disabled:!0})}return e({disabled:n,onPress:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ProfileCometEditFriendListsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4858703634183503"}),null);