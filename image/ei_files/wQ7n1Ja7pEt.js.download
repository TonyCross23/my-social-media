if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometUFIStoryLastResortUnreactActionRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],c=[a,{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_deprecated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}];return{kind:"SplitOperation",metadata:{},name:"CometUFIStoryLastResortUnreactActionRenderer_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[a,{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a],storageKey:null},{alias:null,args:b,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:c,storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:c,storageKey:null},a],storageKey:null}],storageKey:null}]}}();e.exports=a}),null);
__d("CometUFIStoryLastResortUnreactActionRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],c=[a];return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometUFIStoryLastResortUnreactActionRenderer_renderer",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[a,{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:c,storageKey:null},{alias:null,args:b,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:c,storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometUFIReactionUtils_feedback"}],storageKey:null}],type:"UFIStoryLastResortUnreactActionRenderer",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIStoryLastResortUnreactActionRenderer.react",["fbt","ix","CometPressable.react","CometReactionIcon.react","CometRelay","CometRow.react","CometRowItem.react","CometTrackingNodeProvider.react","CometUFIStoryLastResortUnreactActionRenderer_renderer.graphql","CometWithReactionBounceAnimation.react","ODS","TetraIcon.react","TetraText.react","collectDataAttributes","cometGetKeyCommandConfig","fbicon","react","recoverableViolation","requireDeferred","unrecoverableViolation","useCometUFICodedErrorDialog","useCometUFIReactionUtils","useKeyCommands","useMinifiedProductAttribution","useTrackingCodeFnForComet"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react");e=d("react");var l=e.useCallback,m=e.useMemo,n=e.useRef,o=c("requireDeferred")("CometUFIFeedbackReactMutation").__setRef("CometUFIStoryLastResortUnreactActionRenderer.react"),p={labelContainer:{height:"qu8okrzs",whiteSpace:"g0qnabr5"}};function q(a){var b=a.onKeyboardLike;a=m(function(){return[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","likeStory",b)]},[b]);c("useKeyCommands")(a,!0);return null}function a(a){var e,f=a.feedbackSource;a=a.renderer;a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFIStoryLastResortUnreactActionRenderer_renderer.graphql"),a);var g=a.feedback;if(g==null)throw c("unrecoverableViolation")("Failed to load `feedback` with which to render the story unreact button.","ufi2");var m=n(),r=d("CometRelay").useRelayEnvironment();function s(a,b){var d=m.current;return d?c("collectDataAttributes")(d,a,b):null}var t=c("useTrackingCodeFnForComet")();a=c("useCometUFICodedErrorDialog")();var u=a.errorDialog,v=a.setError,w=c("useMinifiedProductAttribution")();a=l(function(){var a,b=g.id;a=(a=g.viewer_actor)==null?void 0:a.id;if(b==null||a==null){c("recoverableViolation")("Error feedbackID or actorID is undefined so a user cannot react","ufi2");return}var e=babelHelpers["extends"]({attribution_id_v2:w,feedback_id:b,feedback_reaction_id:null,feedback_source:f},t(s));o.onReadyImmediately(function(a){a.commit({environment:r,input:e,onError:v,useDefaultActor:!1})});d("ODS").bumpFraction(2507,"ufi_reaction_mutation","deferred_mutation_code_not_yet_loaded",o.getModuleIfRequireable()?0:1,1)},[r,g.id,(a=g.viewer_actor)==null?void 0:a.id,f,w,v,t]);var x=c("useCometUFIReactionUtils")({feedback$key:g});x=x[0];x=x((x=g.viewer_feedback_reaction_info)==null?void 0:x.id);if(x==null)return null;e=(e=g.viewer_feedback_reaction_info)==null?void 0:e.id;var y=x.color;x=x.display_name;var z=h._("__JHASH__Jk5VXDJzn5C__JHASH__",[h._param("selected reaction",x)]),A="CometUFIReactionActionLinkReactionIcon-"+x.toString().toLowerCase();e!=null&&e!=="1635855486666999"?A=k.jsx(c("CometReactionIcon.react"),{alt:x,reactionID:e,size:18,testid:void 0}):A=k.jsx(c("TetraIcon.react"),{color:"highlight",icon:d("fbicon")._(i("509922"),18),testid:void 0});e=k.jsx(c("CometWithReactionBounceAnimation.react"),{reactionID:e,children:A});return k.jsxs(c("CometTrackingNodeProvider.react"),{trackingNode:6,children:[k.jsx(c("CometPressable.react"),{label:z,onPress:a,onPressIn:function(){if(m.current!=null){var a=m.current;a.style.transform="scale("+Math.max(.96,(a.offsetWidth-10)/a.offsetWidth)+")"}},onPressOut:function(){var a=m.current;a!=null&&(a.style.transform="none")},overlayRadius:4,preventContextMenu:!0,ref:m,testid:void 0,children:k.jsxs(c("CometRow.react"),{align:"center",expanding:!0,paddingTop:0,spacingHorizontal:8,verticalAlign:"center",xstyle:p.labelContainer,children:[k.jsx(c("CometRowItem.react"),{children:e}),k.jsx(c("CometRowItem.react"),{children:k.jsx(c("TetraText.react"),{color:"secondary",type:"bodyLink3",children:k.jsx("span",{style:{color:y},children:x})})})]})}),k.jsx(q,{onKeyboardLike:a}),u]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);